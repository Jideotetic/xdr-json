import fs from "fs";
import init, { decode, guess } from "@stellar/stellar-xdr-json";

// Load the wasm file manually as a buffer
const wasmBuffer = fs.readFileSync(
	"./node_modules/@stellar/stellar-xdr-json/stellar_xdr_json_bg.wasm"
);

await init(wasmBuffer);

const result = {
	latestLedger: 490314,
	latestLedgerCloseTime: "1752722132",
	oldestLedger: 369355,
	oldestLedgerCloseTime: "1752115873",
	status: "SUCCESS",
	txHash: "32f7e5c3afd281fcaa99c0e990adf62f33e3bb341b1641a5c8b0b4a4dc55c487",
	applicationOrder: 3,
	feeBump: false,
	envelopeXdr:
		"AAAAAgAAAADuBg+afmvWN9+nlruudR93UO1rDpTe8i6yxgPgBKoBVwExLQAAAA2lAAAfvQAAAAEAAAAAAAAAAAAAAABoeGmwAAAAAAAAAAEAAAABAAAAAO4GD5p+a9Y336eWu651H3dQ7WsOlN7yLrLGA+AEqgFXAAAAGAAAAAAAAAABpSceYV7WS1BBCQPWpKLTlFiL/HWIhKMrikJgApyrKdYAAAAJc2V0X3ByaWNlAAAAAAAAAgAAABAAAAABAAAACQAAAAoAAAAAAAAAAAAAaahaRp+AAAAACgAAAAAAAAAAAAB5y+SQiwAAAAAKAAAAAAAAAAAAAHFdMEkwAAAAAAoAAAAAAAAAAAAAQkvPyHAAAAAACgAAAAAAAAAAAAAE2U+ba4AAAAAKAAAAAAAAAAAAAAASetIWgAAAAAoAAAAAAAAAAAAAEFgo8D+AAAAACgAAAAAAAAAAAAACzFTXmwAAAAAKAAAAAAAAAAAEoxZECi8uAAAAAAUAAAGYFlw7QAAAAAEAAAAAAAAAAAAAAAGlJx5hXtZLUEEJA9akotOUWIv8dYiEoyuKQmACnKsp1gAAAAlzZXRfcHJpY2UAAAAAAAACAAAAEAAAAAEAAAAJAAAACgAAAAAAAAAAAABpqFpGn4AAAAAKAAAAAAAAAAAAAHnL5JCLAAAAAAoAAAAAAAAAAAAAcV0wSTAAAAAACgAAAAAAAAAAAABCS8/IcAAAAAAKAAAAAAAAAAAAAATZT5trgAAAAAoAAAAAAAAAAAAAABJ60haAAAAACgAAAAAAAAAAAAAQWCjwP4AAAAAKAAAAAAAAAAAAAALMVNebAAAAAAoAAAAAAAAAAASjFkQKLy4AAAAABQAAAZgWXDtAAAAAAAAAAAEAAAAAAAAAAQAAAAfaZ5h4OOy0NoTgqFsSMHHBZ2BWo+ttPZwC2FftqORNwwAAAAoAAAAGAAAAAaUnHmFe1ktQQQkD1qSi05RYi/x1iISjK4pCYAKcqynWAAAACQAAAZgWXDtAAAAAAAAAAAAAAAAAAAAABgAAAAGlJx5hXtZLUEEJA9akotOUWIv8dYiEoyuKQmACnKsp1gAAAAkAAAGYFlw7QAAAAAAAAAABAAAAAAAAAAYAAAABpSceYV7WS1BBCQPWpKLTlFiL/HWIhKMrikJgApyrKdYAAAAJAAABmBZcO0AAAAAAAAAAAgAAAAAAAAAGAAAAAaUnHmFe1ktQQQkD1qSi05RYi/x1iISjK4pCYAKcqynWAAAACQAAAZgWXDtAAAAAAAAAAAMAAAAAAAAABgAAAAGlJx5hXtZLUEEJA9akotOUWIv8dYiEoyuKQmACnKsp1gAAAAkAAAGYFlw7QAAAAAAAAAAEAAAAAAAAAAYAAAABpSceYV7WS1BBCQPWpKLTlFiL/HWIhKMrikJgApyrKdYAAAAJAAABmBZcO0AAAAAAAAAABQAAAAAAAAAGAAAAAaUnHmFe1ktQQQkD1qSi05RYi/x1iISjK4pCYAKcqynWAAAACQAAAZgWXDtAAAAAAAAAAAYAAAAAAAAABgAAAAGlJx5hXtZLUEEJA9akotOUWIv8dYiEoyuKQmACnKsp1gAAAAkAAAGYFlw7QAAAAAAAAAAHAAAAAAAAAAYAAAABpSceYV7WS1BBCQPWpKLTlFiL/HWIhKMrikJgApyrKdYAAAAJAAABmBZcO0AAAAAAAAAACAAAAAAAAAAGAAAAAaUnHmFe1ktQQQkD1qSi05RYi/x1iISjK4pCYAKcqynWAAAAFAAAAAEAmJaAAACcQAAAC7gAAAAAAJiWgAAAAAHMpdlgAAAAQI1Wv1nG8+GPa2KOs99Rc3DPDYwypIPeKBa9Po4AN/VLSkjpqhIf2Tvli73MZYQlVmxsF2dROm2LPlgFPep8ZA0=",
	resultXdr:
		"AAAAAAAHNm8AAAAAAAAAAQAAAAAAAAAYAAAAABAjuTEVbQCbk5bRhjZsSNvqYe1R+oSFTzqCtsrEM/Z/AAAAAA==",
	resultMetaXdr:
		"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",
	diagnosticEventsXdr: [
		"AAAAAQAAAAAAAAAAAAAAAgAAAAAAAAADAAAADwAAAAdmbl9jYWxsAAAAAA0AAAAgpSceYV7WS1BBCQPWpKLTlFiL/HWIhKMrikJgApyrKdYAAAAPAAAACXNldF9wcmljZQAAAAAAABAAAAABAAAAAgAAABAAAAABAAAACQAAAAoAAAAAAAAAAAAAaahaRp+AAAAACgAAAAAAAAAAAAB5y+SQiwAAAAAKAAAAAAAAAAAAAHFdMEkwAAAAAAoAAAAAAAAAAAAAQkvPyHAAAAAACgAAAAAAAAAAAAAE2U+ba4AAAAAKAAAAAAAAAAAAAAASetIWgAAAAAoAAAAAAAAAAAAAEFgo8D+AAAAACgAAAAAAAAAAAAACzFTXmwAAAAAKAAAAAAAAAAAEoxZECi8uAAAAAAUAAAGYFlw7QA==",
		"AAAAAQAAAAAAAAABpSceYV7WS1BBCQPWpKLTlFiL/HWIhKMrikJgApyrKdYAAAABAAAAAAAAAAMAAAAPAAAACXJlZmxlY3RvcgAAAAAAAA8AAAAGcHJpY2VzAAAAAAAPAAAABnVwZGF0ZQAAAAAAEAAAAAEAAAAJAAAAEAAAAAEAAAACAAAAEAAAAAEAAAACAAAADwAAAAVPdGhlcgAAAAAAAA8AAAADRVVSAAAAAAoAAAAAAAAAAAAAaahaRp+AAAAAEAAAAAEAAAACAAAAEAAAAAEAAAACAAAADwAAAAVPdGhlcgAAAAAAAA8AAAADR0JQAAAAAAoAAAAAAAAAAAAAecvkkIsAAAAAEAAAAAEAAAACAAAAEAAAAAEAAAACAAAADwAAAAVPdGhlcgAAAAAAAA8AAAADQ0hGAAAAAAoAAAAAAAAAAAAAcV0wSTAAAAAAEAAAAAEAAAACAAAAEAAAAAEAAAACAAAADwAAAAVPdGhlcgAAAAAAAA8AAAADQ0FEAAAAAAoAAAAAAAAAAAAAQkvPyHAAAAAAEAAAAAEAAAACAAAAEAAAAAEAAAACAAAADwAAAAVPdGhlcgAAAAAAAA8AAAADTVhOAAAAAAoAAAAAAAAAAAAABNlPm2uAAAAAEAAAAAEAAAACAAAAEAAAAAEAAAACAAAADwAAAAVPdGhlcgAAAAAAAA8AAAADQVJTAAAAAAoAAAAAAAAAAAAAABJ60haAAAAAEAAAAAEAAAACAAAAEAAAAAEAAAACAAAADwAAAAVPdGhlcgAAAAAAAA8AAAADQlJMAAAAAAoAAAAAAAAAAAAAEFgo8D+AAAAAEAAAAAEAAAACAAAAEAAAAAEAAAACAAAADwAAAAVPdGhlcgAAAAAAAA8AAAADVEhCAAAAAAoAAAAAAAAAAAAAAsxU15sAAAAAEAAAAAEAAAACAAAAEAAAAAEAAAACAAAADwAAAAVPdGhlcgAAAAAAAA8AAAADWEFVAAAAAAoAAAAAAAAAAASjFkQKLy4A",
		"AAAAAQAAAAAAAAABpSceYV7WS1BBCQPWpKLTlFiL/HWIhKMrikJgApyrKdYAAAACAAAAAAAAAAIAAAAPAAAACWZuX3JldHVybgAAAAAAAA8AAAAJc2V0X3ByaWNlAAAAAAAAAQ==",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAACnJlYWRfZW50cnkAAAAAAAUAAAAAAAAACw==",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAAC3dyaXRlX2VudHJ5AAAAAAUAAAAAAAAACg==",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAAEGxlZGdlcl9yZWFkX2J5dGUAAAAFAAAAAAAAVzQ=",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAAEWxlZGdlcl93cml0ZV9ieXRlAAAAAAAABQAAAAAAAAcQ",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAADXJlYWRfa2V5X2J5dGUAAAAAAAAFAAAAAAAAApQ=",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAADndyaXRlX2tleV9ieXRlAAAAAAAFAAAAAAAAAAA=",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAADnJlYWRfZGF0YV9ieXRlAAAAAAAFAAAAAAAAA7A=",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAAD3dyaXRlX2RhdGFfYnl0ZQAAAAAFAAAAAAAABxA=",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAADnJlYWRfY29kZV9ieXRlAAAAAAAFAAAAAAAAU4Q=",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAAD3dyaXRlX2NvZGVfYnl0ZQAAAAAFAAAAAAAAAAA=",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAACmVtaXRfZXZlbnQAAAAAAAUAAAAAAAAAAQ==",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAAD2VtaXRfZXZlbnRfYnl0ZQAAAAAFAAAAAAAAAvw=",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAACGNwdV9pbnNuAAAABQAAAAAASJhK",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAACG1lbV9ieXRlAAAABQAAAAAAIRky",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAAEWludm9rZV90aW1lX25zZWNzAAAAAAAABQAAAAAAFtYx",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAAD21heF9yd19rZXlfYnl0ZQAAAAAFAAAAAAAAAEA=",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAAEG1heF9yd19kYXRhX2J5dGUAAAAFAAAAAAAAA7A=",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAAEG1heF9yd19jb2RlX2J5dGUAAAAFAAAAAAAAU4Q=",
		"AAAAAAAAAAAAAAAAAAAAAgAAAAAAAAACAAAADwAAAAxjb3JlX21ldHJpY3MAAAAPAAAAE21heF9lbWl0X2V2ZW50X2J5dGUAAAAABQAAAAAAAAL8",
	],
	events: {
		transactionEventsXdr: [
			"AAAAAAAAAAAAAAAB15KLcsJwPM/q9+uf9O9NUEpVqLl5/JtFDqLIQrTRzmEAAAABAAAAAAAAAAIAAAAPAAAAA2ZlZQAAAAASAAAAAAAAAADuBg+afmvWN9+nlruudR93UO1rDpTe8i6yxgPgBKoBVwAAAAoAAAAAAAAAAAAAAAAAmJbk",
			"AAAAAQAAAAAAAAAB15KLcsJwPM/q9+uf9O9NUEpVqLl5/JtFDqLIQrTRzmEAAAABAAAAAAAAAAIAAAAPAAAAA2ZlZQAAAAASAAAAAAAAAADuBg+afmvWN9+nlruudR93UO1rDpTe8i6yxgPgBKoBVwAAAAr/////////////////bp+L",
		],
		contractEventsXdr: [
			[
				"AAAAAAAAAAGlJx5hXtZLUEEJA9akotOUWIv8dYiEoyuKQmACnKsp1gAAAAEAAAAAAAAAAwAAAA8AAAAJcmVmbGVjdG9yAAAAAAAADwAAAAZwcmljZXMAAAAAAA8AAAAGdXBkYXRlAAAAAAAQAAAAAQAAAAkAAAAQAAAAAQAAAAIAAAAQAAAAAQAAAAIAAAAPAAAABU90aGVyAAAAAAAADwAAAANFVVIAAAAACgAAAAAAAAAAAABpqFpGn4AAAAAQAAAAAQAAAAIAAAAQAAAAAQAAAAIAAAAPAAAABU90aGVyAAAAAAAADwAAAANHQlAAAAAACgAAAAAAAAAAAAB5y+SQiwAAAAAQAAAAAQAAAAIAAAAQAAAAAQAAAAIAAAAPAAAABU90aGVyAAAAAAAADwAAAANDSEYAAAAACgAAAAAAAAAAAABxXTBJMAAAAAAQAAAAAQAAAAIAAAAQAAAAAQAAAAIAAAAPAAAABU90aGVyAAAAAAAADwAAAANDQUQAAAAACgAAAAAAAAAAAABCS8/IcAAAAAAQAAAAAQAAAAIAAAAQAAAAAQAAAAIAAAAPAAAABU90aGVyAAAAAAAADwAAAANNWE4AAAAACgAAAAAAAAAAAAAE2U+ba4AAAAAQAAAAAQAAAAIAAAAQAAAAAQAAAAIAAAAPAAAABU90aGVyAAAAAAAADwAAAANBUlMAAAAACgAAAAAAAAAAAAAAEnrSFoAAAAAQAAAAAQAAAAIAAAAQAAAAAQAAAAIAAAAPAAAABU90aGVyAAAAAAAADwAAAANCUkwAAAAACgAAAAAAAAAAAAAQWCjwP4AAAAAQAAAAAQAAAAIAAAAQAAAAAQAAAAIAAAAPAAAABU90aGVyAAAAAAAADwAAAANUSEIAAAAACgAAAAAAAAAAAAACzFTXmwAAAAAQAAAAAQAAAAIAAAAQAAAAAQAAAAIAAAAPAAAABU90aGVyAAAAAAAADwAAAANYQVUAAAAACgAAAAAAAAAABKMWRAovLgA=",
			],
		],
	},
	ledger: 490252,
	createdAt: "1752721821",
};

function decodeAllXdrStrings(obj) {
	if (obj === null || obj === undefined) return obj;

	if (Array.isArray(obj)) {
		return obj.map((item) => {
			if (typeof item === "string") {
				try {
					const [valueType] = guess(item);
					return JSON.parse(decode(valueType, item));
				} catch (e) {
					// If it fails to decode, keep original value
					return item;
				}
			}
			return decodeAllXdrStrings(item);
		});
	}

	if (typeof obj === "object") {
		const newObj = {};
		for (const [key, value] of Object.entries(obj)) {
			// Skip decoding for transactionHash fields
			if (key.toLowerCase() === "txhash" || key.toLowerCase() === "hash") {
				newObj[key] = value;
				continue;
			}

			if (typeof value === "string") {
				try {
					// Attempt to decode all string values as XDR
					const [valueType] = guess(value);
					newObj[key] = JSON.parse(decode(valueType, value));
				} catch (e) {
					// If decoding fails, keep original value and move on
					newObj[key] = decodeAllXdrStrings(value);
				}
			} else {
				// Recursively handle non-string values
				newObj[key] = decodeAllXdrStrings(value);
			}
		}
		return newObj;
	}

	return obj;
}

const decodedResult = decodeAllXdrStrings(result);
fs.writeFileSync(
	"decoded-result.json",
	JSON.stringify(decodedResult, null, 2),
	"utf8"
);
console.dir(decodedResult, { depth: null });
